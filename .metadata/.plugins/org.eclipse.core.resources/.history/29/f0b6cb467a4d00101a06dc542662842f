/*
 * FND.c
 *
 *  Created on: Jun 20, 2025
 *      Author: kccistc
 */


#include "FND.h"

enum {DIGIT1,DIGIT10,DIGIT100,DIGIT1000};

uint16_t fndDisplayNum = 0; // fnd main data(max 9999)

/////public/////
// Write FndData
void FND_WtireData(uint32_t data){
	fndDisplayNum = Data;
}


// Read FndData
uint16_t FND_ReadData(){
	return fndDisplayNum;
}

// Display FndData
void FND_DisplayData(){
	static int digitPos = DIGIT0;
	// 인터럽트 발생시 한 자리씩 출력
	digitPos = (digitPos + 1) % 4;
	switch (digitPos) {
		case DIGIT1:
			FND_DisOff();
			FND_DisDigit(digitPos, fndDisplayNum%10);
			FND_DisOn();
			break;
		case DIGIT10:
			FND_DisOff();
			FND_DisDigit(digitPos, fndDisplayNum/10%10);
			FND_DisOn();
			break;
		case DIGIT100:
			FND_DisOff();
			FND_DisDigit(digitPos, fndDisplayNum/100%10);
			FND_DisOn();
			break;
		case DIGIT1000:
			FND_DisOff();
			FND_DisDigit(digitPos, fndDisplayNum/1000%10);
			FND_DisOn();
			break;
		default:
			break;
	}
}
